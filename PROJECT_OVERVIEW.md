# OKX量化交易系统 - 项目总览

## 📊 项目概览

这是一个基于OKX API v5的量化交易系统，支持多种交易策略，具备完整的风险控制机制。

## 🏗️ 架构设计

### 核心模块
- **HTTP客户端**: 直接调用OKX API，避免SDK兼容性问题
- **策略引擎**: 模块化策略设计，易于扩展
- **风险控制**: 内置止盈止损机制
- **模式切换**: 支持模拟交易和实盘交易

### 技术栈
- **Python 3.9+**
- **pandas**: 数据处理和技术指标计算
- **numpy**: 数值计算
- **requests**: HTTP请求
- **OKX API v5**: 交易所API

## 📁 目录结构

```
okx-trading-system/
├── 📄 核心文件
│   ├── config.py                    # 配置文件
│   ├── okx_http_client.py          # HTTP客户端
│   ├── http_trader.py              # 单策略交易机器人
│   ├── multi_strategy_trader.py    # 多策略交易机器人
│   └── requirements.txt            # 依赖包
│
├── 🔧 工具脚本
│   ├── quick_switch.py             # 快速模式切换
│   ├── switch_mode.py              # 交互式模式切换
│   └── scripts/                    # 工具脚本文件夹
│       ├── sell_eth.py             # ETH卖出工具
│       ├── sell_all_coins.py       # 批量卖出工具
│       └── README.md               # 工具说明
│
├── 📊 策略模块
│   └── strategies/                 # 策略文件夹
│       ├── base_strategy.py       # 策略基类
│       ├── ma_strategy.py         # MA策略
│       ├── sar_strategy.py        # SAR策略
│       └── README.md              # 策略说明
│
├── 🧪 测试脚本
│   └── tests/                     # 测试文件夹
│       ├── test_http.py           # API测试
│       ├── test_sar_strategy.py   # SAR策略测试
│       ├── check_balance.py       # 余额检查
│       └── README.md              # 测试说明
│
├── 📚 文档
│   └── docs/                      # 文档文件夹
│       ├── MODE_SWITCH_GUIDE.md   # 模式切换指南
│       ├── TRADING_LOGIC.md       # 交易逻辑说明
│       └── QUICK_START.md         # 快速开始指南
│
└── 🛠️ 工具模块
    └── utils/                     # 工具文件夹
        ├── indicators.py          # 技术指标计算
        └── __init__.py
```

## 🎯 功能特性

### 交易策略
- **MA策略**: 移动平均线交叉策略
- **SAR策略**: 抛物线SAR趋势反转策略
- **扩展性**: 易于添加新策略

### 风险控制
- **止盈止损**: SAR策略支持止盈1%止损0.5%
- **仓位管理**: 最大80%资金用于交易
- **模式切换**: 模拟交易和实盘交易

### 系统特性
- **模块化设计**: 策略、工具、测试分离
- **配置管理**: 统一的配置文件
- **错误处理**: 完善的异常处理机制
- **日志记录**: 详细的运行日志

## 🚀 使用流程

### 1. 环境准备
```bash
# 安装依赖
pip install -r requirements.txt

# 配置API密钥
# 编辑 config.py 文件
```

### 2. 模式选择
```bash
# 模拟交易 (推荐新手)
python quick_switch.py demo

# 实盘交易 (谨慎使用)
python quick_switch.py live
```

### 3. 系统测试
```bash
# 测试API连接
python test_http.py

# 检查账户余额
python tests/check_balance.py
```

### 4. 运行交易
```bash
# 单策略交易
python http_trader.py

# 多策略交易
python multi_strategy_trader.py
```

## 📊 策略对比

| 策略 | 指标 | 信号类型 | 风控 | 适用市场 | 风险等级 |
|------|------|----------|------|----------|----------|
| **MA策略** | MA5/MA20 | 趋势跟踪 | 无 | 趋势市场 | 中等 |
| **SAR策略** | 抛物线SAR | 趋势反转 | 止盈1%止损0.5% | 震荡市场 | 低 |

## ⚠️ 风险提示

### 模拟交易
- ✅ 无真实资金风险
- ✅ 适合策略测试
- ✅ 可以随意实验

### 实盘交易
- ⚠️ 使用真实资金
- ⚠️ 可能造成资金损失
- ⚠️ 请充分测试后再使用

## 📈 性能指标

### 系统性能
- **响应时间**: API调用 < 1秒
- **分析频率**: 每小时分析一次
- **数据精度**: 1小时K线数据
- **并发支持**: 支持多策略同时运行

### 策略表现
- **MA策略**: 适合趋势性市场，信号稳定
- **SAR策略**: 适合震荡市场，风控完善

## 🔧 维护说明

### 日常维护
1. **监控系统**: 定期检查系统运行状态
2. **策略调整**: 根据市场变化调整参数
3. **日志分析**: 分析交易日志优化策略
4. **风险控制**: 定期检查风险控制机制

### 扩展开发
1. **新策略**: 继承BaseStrategy基类
2. **新指标**: 在utils/indicators.py中添加
3. **新功能**: 在对应模块中添加

## 📞 技术支持

如有问题，请检查：
1. API密钥是否正确
2. 网络连接是否正常
3. 账户是否有足够余额
4. 交易模式是否正确

---

**项目状态**: ✅ 生产就绪  
**最后更新**: 2025-01-19  
**版本**: v1.0.0
